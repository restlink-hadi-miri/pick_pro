robot:
  ip: "192.168.15.42"
  type: "ur10e"

tool:
  tcp_offset_m: 0.165  # TCP tip offset from tool0 flange

# ========================================
# PLATE WORKSPACE (18cm x 18cm)
# ========================================
plate:
  frame: "base_link"
  # Center position (from manual teaching)
  center_x: 0.00396
  center_y: -0.94766
  center_z: -0.07092
  # Plate dimensions
  width: 0.18          # 18cm
  height: 0.18         # 18cm
  safety_margin: 0.05  # 5cm safety margin

# ========================================
# CAMERA CALIBRATION
# ========================================
camera_calibration:
  parent_frame: "base_link"
  camera_frame: "camera_color_optical_frame"
  translation_xyz_m: { x: 0.1980, y: -1.2579, z: 0.4580 }
  rotation_quaternion_xyzw: { x: -0.4791857, y: -0.1786430, z: 0.3638369, w: 0.7785082 }

# ========================================
# WORKSPACE LIMITS (Safety bounds)
# ========================================
workspace:
  x_min: -0.10
  x_max:  0.15   # Restricted to near plate
  y_min: -1.10   # Restricted to near plate
  y_max: -0.80   # Restricted to near plate
  z_min: -0.15
  z_max:  0.80

# ========================================
# PENDANT TEST POSE (Working pose from teach pendant)
# ========================================
pendant_test_pose:
  x: 0.00396
  y: -0.94766
  z: -0.07092
  r: 3.080
  p: 0.120
  y_: -0.007

# ========================================
# BALL PROPERTIES
# ========================================
ball:
  diameter: 0.04
  colors:
    red:
      lower1: [0, 30, 30]
      upper1: [25, 255, 255]
      lower2: [155, 30, 30]
      upper2: [180, 255, 255]
    green: { lower: [35, 40, 40], upper: [85, 255, 255] }
    blue:  { lower: [90, 40, 40], upper: [130, 255, 255] }

# ========================================
# CAMERA SETTINGS
# ========================================
camera:
  color_topic: "/camera/camera/color/image_raw"
  depth_topic: "/camera/camera/aligned_depth_to_color/image_raw"
  info_topic:  "/camera/camera/color/camera_info"
  min_ball_area: 800
  max_ball_area: 8000
  min_depth: 0.15
  max_depth: 2.0
  depth_filter_size: 5

# ========================================
# GRIPPER CONTROL
# ========================================
gripper:
  open_value: 1.0
  close_value: 0.0
  wait_time: 1.0
  type: "parallel_jaw"

# ========================================
# MOTION PLANNING
# ========================================
motion:
  lift_height: 0.20    # Lift 20cm after pick
  move_time: 8.0       # 8 seconds per move
  # Base orientation (will try variations)
  tool_orientation: { roll: 3.080, pitch: 0.120, yaw: -0.007 }

# ========================================
# MOVEIT CONFIGURATION
# ========================================
moveit:
  group_name: "ur_manipulator"
  end_effector: "tool0"
  planning_frame: "base_link"
  ik_timeout: 5.0
  controller: "/scaled_joint_trajectory_controller/follow_joint_trajectory"

# ========================================
# DEBUG SETTINGS
# ========================================
debug:
  always_log_tool_pose: true
  log_rate_hz: 3.0
